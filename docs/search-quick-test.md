# 全局搜索功能快速测试指南

## 前置准备

1. 确保已安装项目依赖
```bash
cd E:\work\AI\MyPersonalWebsite
npm install
```

2. 启动开发服务器
```bash
npm run dev
```

3. 打开浏览器访问 `http://localhost:5173`

## 测试步骤

### 1. 打开搜索框

**测试方法1：点击按钮**
- 找到Header右上角的搜索按钮
- 点击按钮，搜索框应该弹出

**测试方法2：使用快捷键**
- 按下 `Ctrl+K` (Windows/Linux) 或 `Cmd+K` (Mac)
- 搜索框应该弹出

**预期结果**:
- ✅ 搜索框居中显示
- ✅ 背景有模糊遮罩
- ✅ 搜索输入框自动聚焦
- ✅ 显示快捷键提示

### 2. 测试搜索项目

**测试步骤**:
1. 在搜索框中输入项目名称（如"Vue"）
2. 观察搜索结果

**预期结果**:
- ✅ 显示项目分类
- ✅ 显示匹配的项目列表
- ✅ 关键词高亮显示（黄色背景）
- ✅ 显示项目标签
- ✅ 显示项目数量

### 3. 测试搜索技能

**测试步骤**:
1. 在搜索框中输入技能名称（如"JavaScript"）
2. 观察搜索结果

**预期结果**:
- ✅ 显示技能分类
- ✅ 显示匹配的技能列表
- ✅ 关键词高亮显示
- ✅ 显示技能描述

### 4. 测试搜索博客

**测试步骤**:
1. 在搜索框中输入博客关键词（如"Vue"）
2. 观察搜索结果

**预期结果**:
- ✅ 显示博客分类
- ✅ 显示匹配的博客列表
- ✅ 关键词高亮显示
- ✅ 显示作者和发布日期

### 5. 测试搜索历史

**测试步骤**:
1. 执行几次搜索（输入不同关键词）
2. 关闭搜索框
3. 再次打开搜索框（不输入任何内容）

**预期结果**:
- ✅ 显示最近5条搜索历史
- ✅ 点击历史记录可以快速搜索
- ✅ 点击"清除"按钮可以删除所有历史

### 6. 测试键盘导航

**测试步骤**:
1. 输入搜索关键词，显示多个结果
2. 按 `↓` 键向下选择
3. 按 `↑` 键向上选择
4. 按 `Enter` 键跳转到选中结果

**预期结果**:
- ✅ 上下箭头可以切换选中的结果
- ✅ 选中的结果有高亮边框
- ✅ 按Enter键可以跳转到对应页面
- ✅ 跳转后搜索框自动关闭

### 7. 测试关闭搜索框

**测试方法1：点击遮罩**
- 点击搜索框外的遮罩区域

**测试方法2：按ESC键**
- 按下 `ESC` 键

**预期结果**:
- ✅ 搜索框关闭
- ✅ 搜索内容清空
- ✅ 返回到之前的页面

### 8. 测试响应式设计

**测试步骤**:
1. 调整浏览器窗口大小
2. 在移动端视图下测试搜索功能

**预期结果**:
- ✅ 搜索框自适应屏幕大小
- ✅ 搜索按钮在移动端显示为图标
- ✅ 搜索结果在移动端正常显示
- ✅ 触摸操作正常工作

### 9. 测试深色模式

**测试步骤**:
1. 切换到深色模式
2. 测试搜索功能

**预期结果**:
- ✅ 搜索框在深色模式下正常显示
- ✅ 高亮效果在深色模式下可见
- ✅ 所有文字颜色适配深色模式

### 10. 测试性能

**测试步骤**:
1. 快速输入多个字符
2. 观察搜索响应

**预期结果**:
- ✅ 搜索有防抖效果（300ms延迟）
- ✅ 不会频繁触发搜索
- ✅ 搜索结果快速显示

## 常见问题排查

### 问题1：搜索框打不开
**可能原因**:
- JavaScript错误
- 组件未正确导入

**解决方案**:
1. 打开浏览器控制台查看错误信息
2. 检查 `Header.vue` 中是否正确导入 `SearchModal` 组件
3. 检查 `useSearchStore` 是否正确导出

### 问题2：搜索无结果
**可能原因**:
- 数据文件未加载
- 搜索关键词不匹配

**解决方案**:
1. 检查数据文件是否存在：
   - `src/assets/data/projects.json`
   - `src/assets/data/skills.json`
   - `src/assets/data/blog-index.json`
2. 确保Store已正确加载数据
3. 尝试搜索其他关键词

### 问题3：点击结果无法跳转
**可能原因**:
- 路由配置错误
- 路由不存在

**解决方案**:
1. 检查路由配置 `src/router/index.ts`
2. 确保以下路由存在：
   - `/projects/:id`
   - `/skills`
   - `/blog/:id`

### 问题4：搜索历史不保存
**可能原因**:
- localStorage被禁用
- 代码错误

**解决方案**:
1. 检查浏览器是否允许localStorage
2. 查看控制台是否有错误信息
3. 检查 `useSearchStore.ts` 中的历史保存逻辑

### 问题5：快捷键不工作
**可能原因**:
- 全局事件监听未正确设置
- 其他插件冲突

**解决方案**:
1. 检查 `Header.vue` 中的键盘事件监听
2. 确保没有其他插件拦截快捷键
3. 尝试在不同浏览器中测试

## 性能指标

### 预期性能
- 搜索响应时间: < 100ms
- 搜索框打开动画: < 200ms
- 防抖延迟: 300ms

### 测试方法
1. 打开浏览器开发者工具
2. 使用 Performance 面板记录性能
3. 执行搜索操作
4. 分析性能数据

## 兼容性测试

### 浏览器支持
- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

### 移动端支持
- ✅ iOS Safari 14+
- ✅ Chrome Mobile 90+
- ✅ Samsung Internet 14+

## 测试清单

使用以下清单确保所有功能都已测试：

- [ ] 搜索框打开（点击按钮）
- [ ] 搜索框打开（快捷键）
- [ ] 搜索项目
- [ ] 搜索技能
- [ ] 搜索博客
- [ ] 搜索历史显示
- [ ] 搜索历史点击
- [ ] 搜索历史清除
- [ ] 键盘导航（上下箭头）
- [ ] 键盘导航（Enter跳转）
- [ ] 关闭搜索框（点击遮罩）
- [ ] 关闭搜索框（ESC键）
- [ ] 响应式设计（桌面端）
- [ ] 响应式设计（移动端）
- [ ] 深色模式
- [ ] 浅色模式
- [ ] 高亮显示
- [ ] 结果分类
- [ ] 结果数量显示
- [ ] 快捷键提示
- [ ] 防抖效果
- [ ] 搜索性能

## 反馈收集

测试完成后，请记录以下信息：

1. **功能完整性**: 所有功能是否正常工作？
2. **性能表现**: 搜索响应速度如何？
3. **用户体验**: 界面是否友好？操作是否流畅？
4. **兼容性**: 在不同浏览器和设备上是否正常？
5. **问题报告**: 发现的任何问题或建议

## 联系方式

如有问题或建议，请联系：
- 姓名：佘杰
- 项目路径：E:\work\AI\MyPersonalWebsite

---

**测试日期**: ___________
**测试人员**: ___________
**测试结果**: ✅ 通过 / ❌ 失败
**备注**: _______________________